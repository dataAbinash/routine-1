import{r as a,g as w,j as e,E as j,u as R,a as f,T as u,l as h}from"./index-94b9b196.js";function T({updateRoutine:r}){const l=new Date;l.setDate(l.getDate()+1);const[n,p]=a.useState(w(l)),[i,c]=a.useState();a.useEffect(()=>{r({time:[n,i]})},[n,i]);function o(s){i||c(s.target.value)}return e.jsx("div",{children:e.jsxs("div",{className:"inputTime mt-2 flex flex-col gap-2 w-full",children:[e.jsxs("div",{className:"top flex-1",children:[e.jsx("p",{className:"text-sm text-secondary pl-1 pb-1",children:"Start Date and Time"}),e.jsx("input",{defaultValue:n,onChange:s=>{p(s.target.value),o(s)},type:"datetime-local",className:"input-time w-full bg-inputBg dark:bg-darkInputBg appearance-none text-center"})]}),e.jsxs("div",{className:"bottom flex-1",children:[e.jsx("p",{className:"text-sm text-secondary pl-1 pb-1",children:"End Date and Time"}),e.jsx("input",{defaultValue:i,onChange:s=>c(s.target.value),type:"datetime-local",className:"input-time w-full bg-inputBg dark:bg-darkInputBg appearance-none text-center"})]})]})})}function E(){const r=new j;let l=["ğŸ“•","ğŸ§‘ğŸ»â€ğŸ’»","ğŸƒğŸ»â€â™‚ï¸","ğŸ¨","ğŸ‘»"];const[n,p]=a.useState(""),[i,c]=a.useState(""),[o,s]=a.useState(""),[x,v]=a.useState("once"),[d,N]=a.useState({}),g=R();a.useEffect(()=>{console.log(d)},[d]);function b(){setTimeout(()=>{g(-1)},50)}return e.jsxs("div",{className:"new-routine-screen screen dark:text-darkText",children:[e.jsxs("header",{className:"flex p-2 w-full justify-between select-none items-center px-4",children:[e.jsx("div",{className:"left tap",onClick:b,children:e.jsx("img",{src:f.xmark_solid,className:"w-10 p-3 dark:invert dark:grayscale"})}),e.jsx("div",{className:"center font-medium text-base",children:"New Routine "}),e.jsx("div",{className:"right tap",children:e.jsx("img",{src:f.check_solid,className:"w-11 p-3 dark:invert dark:grayscale"})})]}),e.jsx("section",{className:"basic-details w-full p-4",children:e.jsxs("div",{className:"min-h-[calc(100vh-100px)] flex flex-col justify-between items-center w-full",children:[e.jsxs("div",{className:"top flex flex-col gap-3 w-full",children:[e.jsxs("div",{className:"inputText flex flex-row gap-3",children:[e.jsx("img",{src:j.get(B(o)[0]),className:"tap h-[3.6rem] p-[0.8rem] bg-inputBg dark:bg-darkInputBg rounded-2xl"}),e.jsx("input",{value:n,onInput:t=>{p(t.target.value)},type:"text",placeholder:"Routine Name",className:"name input-text bg-inputBg dark:bg-darkInputBg "})]}),e.jsx("div",{className:"inputText",children:e.jsx("input",{value:i,onInput:t=>{c(t.target.value)},type:"text",placeholder:"Routine Description",className:"name input-text bg-inputBg dark:bg-darkInputBg"})}),e.jsxs("div",{className:"inputSelect flex justify-between items-center gap-3",children:[e.jsx("input",{type:"text",value:o,placeholder:"Custom Emoji",className:"name input-text bg-inputBg dark:bg-darkInputBg ",onInput:t=>{s(t.target.value)}}),e.jsxs("select",{onInput:t=>v(t.target.value),name:"",id:"",className:"appearance-none p-[1rem] px-7 rounded-2xl trans-outline outline-none focus:outline-accent border-none bg-inputBg dark:bg-darkInputBg text-center",children:[e.jsx("option",{value:"once",children:"Repeat : Once"}),e.jsx("option",{value:"daily",children:"Repeat : Daily"}),e.jsx("option",{value:"weekly",children:"Repeat : Weekly"}),e.jsx("option",{value:"monthly",children:"Repeat : Monthly"}),e.jsx("option",{value:"yearly",children:"Repeat : Yearly"}),e.jsx("option",{value:"calendar",children:"Calendar Event"})]})]}),e.jsx("div",{className:"emojis flex gap-3 rounded-2xl flex-wrap justify-between items-center",children:l.map((t,m)=>e.jsx("img",{src:r.get(t),onClick:()=>s(t),className:"tap bg-inputBg dark:bg-darkInputBg h-[3.2rem] p-[0.8rem] rounded-2xl"},m))}),y(x)]}),e.jsxs("p",{className:"warning mt-3 text-sm px-5 text-[red] text-center",children:["Warning ",e.jsx(u,{emoji:"âš ï¸"})," This Screen under development ",e.jsx(u,{emoji:"ğŸ§‘ğŸ»â€ğŸ’»"}),". If you add routine from here, you would not be able to delete or edit the routine ",e.jsx(u,{emoji:"ğŸ¤£"}),". Because the options for deleting routine is not made yet ",e.jsx(u,{emoji:"ğŸ˜"}),". So it's better not try to add routines ",e.jsx(u,{emoji:"ğŸ˜†"}),"."]}),e.jsx("div",{className:"btn w-full",children:e.jsx("button",{className:"btn-full no-highlight tap99 w-full",onClick:k,children:"Add this Routine"})})]})})]});function k(){if(n.trim()==="")return alert("Routine name is required");if(i.trim()==="")return alert("Routine description is required");if(x==="once"&&!d.time[0])return alert("Routine time is required");let t={name:n,description:i,emoji:o||"ğŸ§‘ğŸ»",type:x,...d},m=JSON.parse(h.get("routines")||"[]");m.push(t),h.set("routines",JSON.stringify(m)),alert("Routine added successfully"),g(-1)}function y(t){return t==="once"?e.jsx(T,{updateRoutine:N}):t==="daily"?e.jsx("div",{children:"ok"}):e.jsx("div",{className:"mt-16 text-center",children:e.jsx("p",{children:"This screen is under development"})})}}function B(r){return r?[...new Intl.Segmenter().segment(r)].map(n=>n.segment):["ğŸ§‘ğŸ»"]}export{E as default};
